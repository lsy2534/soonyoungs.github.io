---
layout: post
title: resolve.conf
date: 2023-04-08 00:00 +0800
last_modified_at: 2023-05-08 00:08:25 +0800
tags: [resolve.conf, DNS, 리눅스]
categoie: [resolve.conf]
toc:  true
---
**resolve.conf**!
{: .message }

# resolve.conf

네임서버(DNS)는 IP 주소와 도메인 주소를 연결해 주는 역할을 합니다. 인터넷 주소에 도메인 주소를 입력하게 되면 지정된 네임서버를 통해서 연결되어 있는 IP주소를 찾아내어 확인하는 일을 한다.
이번에 설치한 CentOS 8 Stream 8대에서 진행하였다. DNS를 사용하는 목적은 여러대의 서버를 운영하고자할때 추가되는 서버에 에서 도메인을 관리하는게 아니라, DNS서버를 통해 여러대의 서버를 관리할수있는 목적을 가진다.

먼저 CentOS 8 Stream DNS를 성정하는 파일인 resolve.conf 파일을 열어서 확인 및 설정을 하도록 한다.

```
vi /etc/resolv.conf  
```


resolv.conf에서는 아래와 같은 설정이 있다.
nameserver 뒤에 DNS서버 IP를 입력하면 된다.
nameserver가 여러개일 경우에 바로 아래 nameserver IP 형태로 추가하고 저장하면 된다.

```
# Generated by NetworkManager
# nameserver [IP]
nameserver 192.168.0.100
nameserver 192.168.0.101

```
마지막으로 network를 재시작 해준다.

```
systemctl restart NetworkManager 
```

단, resolv.conf가 초기값으로 초기화 된다는 문제가 발생한다. 이럴 경우 당황하지말고 nmcli 명령어를 cli 로 제어하여 커넥션 정보를 변경하면 된다.
nmcli 명령어는 NetworkManager 를 cli 로 제어하고, 현재 네트워크 디바이스(인터페이스) 및 커넥션의 상태를 알려주는 명령어이다.

추가 후 네트워크를 재시작하면 잘된다.

```
sudo nmcli c modify {네트워크 ID} ipv4.dns-search {추가할 도메인 NAME}


nslookup {추가할 도메인 NAME}
systemctl restart NetworkManager 

```
